<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Backend - Yituanxing's Tech Odyssey</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Backend";
        var mkdocs_page_input_path = "backend-tech.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/java.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/c.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Yituanxing's Tech Odyssey
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Online Judge Project</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../requirements/">Product Requirements</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >System Architecture</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../architecture/">Architecture Design</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" >Tech Stack</a>
    <ul class="current">
                <li class="toctree-l3 current"><a class="reference internal current" href="#">Backend</a>
    <ul class="current">
    <li class="toctree-l4"><a class="reference internal" href="#_2">技术栈</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_11">选型原因</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_12">注意事项</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_13">相关知识</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../frontend-tech/">Frontend</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Development</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../dev-steps/">Development Steps</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../project-structure/">Project Structure</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../backend-dev/">Backend Development</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../frontend-dev/">Frontend Development</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../apis/">APIs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../testing/">Testing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../deployment/">Deployment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../user-guide/">User Guide</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Knowledge Base</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../java-language/">Java Language</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../database/">Database</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../network/">Network</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../os/">Operating System</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../frameworks/">Frameworks</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../algorithms.md">Algorithms</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../security.md">Security</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">C Language Projects</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Hardware & Simulation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../nemu-reflection/">NEMU Simulator (YSYX)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../riscv-chisel-reflection/">RISC-V Processor (Chisel)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Data Structures</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../seqlist-reflection/">Sequential List</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../student-management-reflection/">Student Mgmt (Linked List)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../student-management-v2-reflection/">Student Mgmt V2 (File)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../contact-management-reflection/">Contact Mgmt</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Games</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../tic-tac-toe-reflection/">Tic-Tac-Toe</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../plane-game-reflection/">Plane Shooting</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Yituanxing's Tech Odyssey</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Online Judge Project</li>
          <li class="breadcrumb-item">System Architecture</li>
          <li class="breadcrumb-item">Tech Stack</li>
      <li class="breadcrumb-item active">Backend</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1">后端技术选型</h1>
<h2 id="_2">技术栈</h2>
<h3 id="_3">核心技术</h3>
<ul>
<li><strong>语言</strong>: Java 17</li>
<li><strong>优点</strong>: 跨平台，生态丰富，支持长期维护，新增特性（如记录类、密封类）提升开发效率。</li>
<li><strong>缺点</strong>: 启动速度较慢，内存占用较高。</li>
<li><strong>原因</strong>: 企业级应用广泛使用，适配 IntelliJ IDEA 2023.2.6 和 Spring Boot 3。</li>
<li><strong>框架</strong>: Spring Boot 3</li>
<li><strong>优点</strong>: 自动配置，内置服务器，易于集成微服务组件。</li>
<li><strong>缺点</strong>: 初次构建较慢，依赖较多可能导致打包体积大。</li>
<li><strong>原因</strong>: 提供快速开发体验，与 Nacos、Gateway 等 Spring Cloud 生态无缝兼容。</li>
<li><strong>微服务网关</strong>: Spring Cloud Gateway</li>
<li><strong>优点</strong>: 动态路由，支持过滤器和负载均衡，响应式编程提升性能。</li>
<li><strong>缺点</strong>: 配置复杂，调试难度较高。</li>
<li><strong>原因</strong>: 作为 <code>oj-gateway</code> 的核心，统一管理微服务请求。</li>
</ul>
<h3 id="_4">服务治理</h3>
<ul>
<li><strong>服务注册与发现</strong>: Nacos</li>
<li><strong>优点</strong>: 支持服务注册、配置管理、动态刷新，界面化管理方便。</li>
<li><strong>缺点</strong>: 单点故障风险，需高可用部署。</li>
<li><strong>原因</strong>: 简化 <code>oj-modules</code> 中各微服务的注册与配置（<code>deploy/dev/nacos</code>）。</li>
</ul>
<h3 id="_5">数据管理</h3>
<ul>
<li><strong>数据库</strong>: MySQL 8.0</li>
<li><strong>优点</strong>: 高性能，支持事务和复杂查询，社区活跃。</li>
<li><strong>缺点</strong>: 不适合超大规模分布式场景，水平扩展较弱。</li>
<li><strong>原因</strong>: 用于存储题目（<code>tb_question</code>）、用户信息等结构化数据（<code>deploy/dev/mysql</code>）。</li>
<li><strong>ORM 框架</strong>: MyBatis-Plus</li>
<li><strong>优点</strong>: 简单易用，提供 CRUD 和分页支持，动态 SQL 灵活。</li>
<li><strong>缺点</strong>: 复杂查询需手动编写 SQL，学习成本略高。</li>
<li><strong>原因</strong>: 简化 MySQL 操作，适配 <code>oj-friend</code> 和 <code>oj-system</code> 的 Mapper 层。</li>
<li><strong>缓存</strong>: Redis</li>
<li><strong>优点</strong>: 高性能，支持多种数据结构，TTL 机制自动过期。</li>
<li><strong>缺点</strong>: 数据量大时成本高，持久化可能丢失数据。</li>
<li><strong>原因</strong>: 缓存热点题目和会话，提升响应速度（<code>deploy/dev/redis</code>）。</li>
<li><strong>对象存储</strong>: 阿里云 OSS</li>
<li><strong>优点</strong>: 高可用，扩展性强，支持大文件存储。</li>
<li><strong>缺点</strong>: 网络延迟可能影响实时性，需额外费用。</li>
<li><strong>原因</strong>: 存储用户提交代码（<code>user-code</code>）和题目附件。</li>
</ul>
<h3 id="_6">异步与任务调度</h3>
<ul>
<li><strong>消息队列</strong>: RabbitMQ</li>
<li><strong>优点</strong>: 支持异步处理，高可用，多种消息模式。</li>
<li><strong>缺点</strong>: 配置和管理复杂，学习曲线较陡。</li>
<li><strong>原因</strong>: 解耦判题任务（<code>oj-judge</code>），提升系统吞吐量（<code>deploy/dev/rabbit</code>）。</li>
<li><strong>定时任务</strong>: XXL-JOB</li>
<li><strong>优点</strong>: 分布式调度，支持任务管理界面，易于扩展。</li>
<li><strong>缺点</strong>: 依赖外部服务，部署稍复杂。</li>
<li><strong>原因</strong>: 清理过期数据、定期统计（<code>oj-job</code>）。</li>
</ul>
<h3 id="_7">搜索与日志</h3>
<ul>
<li><strong>搜索</strong>: Elasticsearch</li>
<li><strong>优点</strong>: 全文搜索能力强，支持分布式部署，扩展性好。</li>
<li><strong>缺点</strong>: 资源占用高，配置和优化需经验。</li>
<li><strong>原因</strong>: 支持题目搜索，结合 IK 分词器优化中文（<code>deploy/dev/elasticsearch</code>）。</li>
<li><strong>日志</strong>: SLF4J + Logback + Elasticsearch + Kibana</li>
<li><strong>优点</strong>: SLF4J+Logback 日志记录高效，ELK 提供集中化管理和可视化。</li>
<li><strong>缺点</strong>: ELK 部署复杂，占用资源较多。</li>
<li><strong>原因</strong>: 记录微服务日志（<code>logs/</code>），便于排查问题。</li>
</ul>
<h3 id="_8">安全与认证</h3>
<ul>
<li><strong>认证与授权</strong>: JWT (JSON Web Token)</li>
<li><strong>优点</strong>: 无状态认证，适合分布式系统，易于集成。</li>
<li><strong>缺点</strong>: Token 一旦签发无法撤销，需额外机制管理。</li>
<li><strong>原因</strong>: 保障用户登录安全（<code>oj-common-security</code>）。</li>
<li><strong>密码加密</strong>: BCrypt</li>
<li><strong>优点</strong>: 安全哈希算法，抗暴力破解，盐值内置。</li>
<li><strong>缺点</strong>: 计算开销较高，影响注册性能。</li>
<li><strong>原因</strong>: 保护用户密码（<code>oj-friend</code> 用户服务）。</li>
</ul>
<h3 id="_9">辅助工具</h3>
<ul>
<li><strong>分页支持</strong>: PageHelper</li>
<li><strong>优点</strong>: 与 MyBatis-Plus 集成简单，分页查询高效。</li>
<li><strong>缺点</strong>: 依赖 MyBatis 环境，不支持其他 ORM。</li>
<li><strong>原因</strong>: 优化数据库分页查询（<code>oj-friend</code>、<code>oj-system</code>）。</li>
<li><strong>短信服务</strong>: 阿里云短信服务 (SMS)</li>
<li><strong>优点</strong>: 稳定可靠，接口简单，支持多种通知场景。</li>
<li><strong>缺点</strong>: 有使用成本，依赖网络稳定性。</li>
<li><strong>原因</strong>: 用户注册和验证码通知（<code>oj-common-message</code>）。</li>
<li><strong>负载均衡与反向代理</strong>: Nginx</li>
<li><strong>优点</strong>: 高性能，支持负载均衡和静态资源服务。</li>
<li><strong>缺点</strong>: 配置需手动调整，动态调整能力有限。</li>
<li><strong>原因</strong>: 提升系统性能和稳定性（<code>deploy/dev/nginx</code>）。</li>
</ul>
<h3 id="_10">开发环境</h3>
<ul>
<li><strong>操作系统</strong>: Windows 10 专业版</li>
<li><strong>原因</strong>: 支持本地开发，兼容 Docker Desktop 和 IntelliJ IDEA。</li>
<li><strong>IDE</strong>: IntelliJ IDEA 2023.2.6</li>
<li><strong>原因</strong>: 支持 Maven、Spring Boot 和 Docker 插件，调试方便。</li>
<li><strong>构建工具</strong>: Maven</li>
<li><strong>原因</strong>: 管理多模块依赖（<code>oj-api</code>、<code>oj-common</code> 等），构建项目。</li>
<li><strong>JDK</strong>: JDK 17</li>
<li><strong>原因</strong>: 支持 Java 17 特性，与 Spring Boot 3 兼容。</li>
<li><strong>版本控制</strong>: Git</li>
<li><strong>原因</strong>: 团队协作，管理代码版本（<code>deploy/dev/online-judge-docs</code>）。</li>
</ul>
<h2 id="_11">选型原因</h2>
<ul>
<li><strong>微服务架构</strong>:</li>
<li>Spring Boot + Nacos + Gateway 构成完整微服务体系，适配 <code>oj-gateway</code> 和 <code>oj-modules</code> 的模块化设计。</li>
<li><strong>数据管理</strong>:</li>
<li>MySQL + MyBatis-Plus 处理结构化数据，Redis 提供缓存，OSS 存储非结构化文件。</li>
<li><strong>性能与扩展</strong>:</li>
<li>RabbitMQ 实现异步判题，Elasticsearch 优化搜索，Nginx 提供负载均衡。</li>
<li><strong>安全性</strong>:</li>
<li>JWT 和 BCrypt 保障用户认证和数据安全。</li>
<li><strong>可观测性与维护</strong>:</li>
<li>SLF4J+Logback 记录日志，ELK 提供分析，XXL-JOB 和 Redis TTL 维护系统健康。</li>
<li><strong>用户体验</strong>:</li>
<li>阿里云 SMS 提供快速通知，PageHelper 提升查询效率。</li>
</ul>
<h2 id="_12">注意事项</h2>
<ul>
<li><strong>性能测试</strong>:</li>
<li>使用 JMeter 测试并发性能（建议模拟 100+ 用户提交），记录在 <a href="../testing/">Testing</a>。</li>
<li><strong>中文支持</strong>:</li>
<li>Elasticsearch 使用 IK 分词器（<code>deploy/dev/elasticsearch/es-plugins/elasticsearch-analysis-ik-8.5.3</code>），需定期更新词库。</li>
<li><strong>沙箱环境</strong>:</li>
<li>Docker 沙箱（<code>user-code-pool/oj-sandbox-jdk-*</code>）需配置资源限制，避免占用过多磁盘和内存。</li>
<li><strong>依赖管理</strong>:</li>
<li>Maven 依赖版本需统一，避免冲突（检查 <code>pom.xml</code> 中的版本一致性）。</li>
<li><strong>日志清理</strong>:</li>
<li>ELK 日志占用磁盘较多，建议结合 XXL-JOB 设置定期清理任务。</li>
</ul>
<h2 id="_13">相关知识</h2>
<ul>
<li><a href="../java-language/">Java 语言</a> - JDK 17 新特性和最佳实践。</li>
<li><a href="../database/">数据库</a> - MySQL 配置和 MyBatis-Plus 使用。</li>
<li><a href="../network/">网络</a> - Nginx 和 Gateway 的网络优化。</li>
<li><a href="../os/">操作系统</a> - Windows 10 和 Docker Desktop 配置。</li>
<li><a href="../frameworks/">框架</a> - Spring Boot 和微服务架构。</li>
<li><a href="../components/">组件</a> - Redis、RabbitMQ、OSS 等组件的部署与使用。</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../architecture/" class="btn btn-neutral float-left" title="Architecture Design"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../frontend-tech/" class="btn btn-neutral float-right" title="Frontend">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../architecture/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../frontend-tech/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
